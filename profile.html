<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
    <div class="logo-container-nav col-lg-02 col-md-02 col-sm-12">
        <img src="ch_logo.png" alt="Your Logo">
    </div>
    <a href="user_home.html" div class="col-lg-02 col-md-01 col-sm-12">Home</a>
    <a href="surveys.html" div class="col-lg-02 col-md-03 col-sm-00">Surveys</a> <!-- Update href as necessary -->
    <a href="leaderboard.html" div class="col-lg-02 col-md-03 col-sm-00">Leaderboard</a> <!-- Update href as necessary -->
    <a href="achievements.html" div class="col-lg-02 col-md-00 col-sm-00">Achievements</a>
    <a href="profile.html" div class="col-lg-02 col-md-03 col-sm-12">Profile</a> <!-- Update href as necessary -->
    <a href="/" div class="col-lg-02 col-md-03 col-sm-12">Logout</a> <!-- This is your logout button -->
</div>
    <!-- Each of these will fill add the user data in the onload function -->
    <div class="profileName" id="profileName">
        Welcome 
    </div>
    <div>
        <div class="profileAttribute col-lg-06 col-md-12 col-sm-12" id="profilePoints">
            Current Point Total:
        </div>
        <div class="profileAttribute col-lg-06 col-md-12 col-sm-12" id="profileEmployee">
            Employee ID:
        </div>
    </div>
    <div>
        <div class="profileAttribute col-lg-04 col-md-06 col-sm-12" id="profileAccess">
            Access Level:
        </div>
        <div class="profileAttribute col-lg-04 col-md-06 col-sm-12" id="profileDepartment">
            Department:
        </div>
        <div class="profileAttribute col-lg-04 col-md-12 col-sm-12" id="profilePosition">
            Position:
        </div>
    </div>
    <script>
        //This will populate the profile page with appropriate data
        "use strict";

        let pName = undefined
        let pPoints = undefined
        let pDepartment = undefined
        let pAccess = undefined
        let pEmployee = undefined
        let pPosition = undefined

        pName = document.getElementById("profileName")
        pPoints = document.getElementById("profilePoints")
        pDepartment = document.getElementById("profileDepartment")
        pAccess = document.getElementById("profileAccess")
        pEmployee = document.getElementById("profileEmployee")
        pPosition = document.getElementById("profilePosition")
        
        document.addEventListener('DOMContentLoaded', function () {
            //A function to find the user data
            fetch('/profile')
                .then(response => response.json())
                .then(data => {
                    console.log(data)
                    //The data needs to be parsed into the innerhtml of each of the document elements
                    /* Logic to seperate these elements, psuedocode below
                    pNameString = "Welcome " + data[name]
                    pPointsString = "Current Point Total: " + data[points]
                    pDepartmentString = "Department: " + data[department]
                    pAccessString = "Access Level:  " + data[access]
                    pEmployeeString = "Empolyee ID:  " + data[empid]
                    pPositionString = "Position Title: " + data[position]
                    */
                })
        } );

    </script>

</body>
</html>
